<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Hugo 0.89.4" />
  
  <link rel="stylesheet" href="https://mybrainhertz.co.uk/css/bootstrap.min.css">
  
  
  <title>Heating</title>
  <style>
.container {
  max-width: 900px;
}
#nav a {
  font-weight: bold;
  color: inherit;

}
#nav-border {
  border-bottom: 1px solid #212529;
}
#main {
  margin-top: 1em;
  margin-bottom: 4em;
}
#home-jumbotron {
  background-color: inherit;
}
.font-125 {
  font-size: 125%;
}

 


.tag-btn {

  margin-bottom: 0.3em;
}
img {
  max-width: 100%;
}
.btn {
  margin-bottom: 0.3em;
  margin-right : 0.3em;

}

 


a {
  color: #007bff;
 }  





td, th {
    border: 1px solid grey;
    padding: 10px;
}

@media (min-width: 34em) {
    .card-columns {
        -webkit-column-count:3;
        -moz-column-count:3;
        column-count:3;
    }
}

pre {
    background: #f4f4f4;
    border: 1px solid #ddd;
    border-left: 3px solid #f36d33;
    color: #222222;
    page-break-inside: avoid;
    font-family: monospace;
    font-size: 13px;
    line-height: 1.6;
    margin-bottom: 1.6em;
    max-width: 100%;
    overflow: auto;
    padding: 1em 1.5em;
    display: block;
    word-wrap: break-word;
}

code {
   
  font-size: 14px;
   
}



.card-img-top{
   
   
   
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;

}
.card{
  border-radius: 10px;

}

 
button.copybtn {
  webkit-transition: opacity .3s ease-in-out;
  -o-transition: opacity .3s ease-in-out;
  transition: opacity .3s ease-in-out;
  opacity: .15;
  padding: 2px 6px;
  position: absolute;
  right: 4px;
  top: 4px;
}
 
    
 
div.highlight .copybtn:hover {
    opacity: 1;
    border-color: #51a7e8;
}
div.highlight .copybtn:after {
    opacity: 1;
}
div.highlight {
    position: relative;
}

.col{
  padding-left: 0px;
}






</style>
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>







  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-177014444-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
</head>  


  <body>
    
        <div id="nav-border" class="container">
  <nav id="nav" class="nav justify-content-center">
   
    
    
    <a class="nav-link" href="/"><i data-feather="home"></i> Home</a>
   
    
    
    <a class="nav-link" href="/electronics/"><i data-feather="cpu"></i> Electronics</a>
   
    
    
    <a class="nav-link" href="/food/"><i data-feather="heart"></i> Food</a>
   
    
    
    <a class="nav-link" href="/photography/"><i data-feather="aperture"></i> Photography</a>
   
    
    
    <a class="nav-link" href="/misc/"><i data-feather="coffee"></i> Misc</a>
   
    
    
    <a class="nav-link" href="/greenhouse/"><i data-feather="sun"></i> Greenhouse</a>
   
    
    
    <a class="nav-link" href="/tags/"><i data-feather="tag"></i> Tags</a>
  


  </nav>
</div>

 
        
    <div class="container">
      <main id="main">
      
<h1>Heating</h1>


<i data-feather="calendar"></i> <time datetime="2022-06-07">Jun 7, 2022</time>

<br><br>
<h2 id="can-i-heat-the-greenhouse">Can I heat the greenhouse?</h2>
<p>My first idea was to see if it is possible to maintain a 5 degree C temperature gradient between the inside and outside of the greenhouse. I wondered how much power I would need to do this. Below is a calculation to do just that but getting the constants right is pretty tricky and ambiguous at best.</p>
<p>The calculation is based upon <a href="https://www.engineersedge.com/heat_transfer/singlepane_window_heat_loss_13863.htm">this tutorial</a> and these websites give a good idea of what the constants for the windows might be.</p>
<p><a href="https://www.engineersedge.com/heat_transfer/convective_heat_transfer_coefficients__13378.htm">Engineering edge - list of heat transfer coefficients</a><br>
<a href="https://www.engineersedge.com/heat_transfer/heat_transfer_coefficients_13822.htm">Engineering edge - double glazed window heat transfer coefficients</a><br>
<a href="https://www.bregroup.com/insights/is-bigger-always-better-triple-better-than-double/">Bre Group -  is bigger always better - triple better than double?</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">k_glass <span style="color:#666">=</span> <span style="color:#40a070">1.1</span> <span style="color:#60a0b0;font-style:italic"># https://www.bregroup.com/insights/is-bigger-always-better-triple-better-than-double/</span>
h_inside <span style="color:#666">=</span> <span style="color:#40a070">5</span> <span style="color:#60a0b0;font-style:italic"># can vary from 5-37 for free air convection . examples seen have used 8 - 10 </span>
h_outside <span style="color:#666">=</span> <span style="color:#40a070">15</span> <span style="color:#60a0b0;font-style:italic"># can vary from 10 to 100 depending of wind speed outside. examples seen have used 15-40</span>

L <span style="color:#666">=</span> <span style="color:#40a070">28e-3</span> <span style="color:#60a0b0;font-style:italic"># thickness of window </span>
A <span style="color:#666">=</span> <span style="color:#40a070">15</span> <span style="color:#60a0b0;font-style:italic">#m2 area of window</span>

R_cond <span style="color:#666">=</span> L <span style="color:#666">/</span> (k_glass <span style="color:#666">*</span> A)
R_conv_i <span style="color:#666">=</span> <span style="color:#40a070">1</span> <span style="color:#666">/</span> (h_inside <span style="color:#666">*</span> A)
R_conv_o <span style="color:#666">=</span> <span style="color:#40a070">1</span> <span style="color:#666">/</span> (h_outside <span style="color:#666">*</span> A)

R_total <span style="color:#666">=</span>  R_cond <span style="color:#666">+</span> R_conv_i <span style="color:#666">+</span> R_conv_o

T_inside <span style="color:#666">=</span> <span style="color:#40a070">5</span>
T_outside <span style="color:#666">=</span> <span style="color:#40a070">0</span> 

Q_dot <span style="color:#666">=</span> (T_inside <span style="color:#666">-</span> T_outside) <span style="color:#666">/</span> R_total

<span style="color:#007020">print</span>(<span style="color:#4070a0">f</span><span style="color:#4070a0">&#39;</span><span style="color:#70a0d0;font-style:italic">{</span>Q_dot<span style="color:#70a0d0;font-style:italic">:</span><span style="color:#4070a0">.2f</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">W&#39;</span>)
</code></pre></div><p>This gives 256.74W but if you play about with the numbers you&rsquo;ll quickly see this can vary quite a lot.</p>
<form id="form" onsubmit="return false;">
	k glass:   <input  type="text" id="k_glass" value="1.1" />
    H Inside:  <input  type="text" id="h_inside" value="5" />
    H Outside: <input  type="text" id="h_outside" value="15" />
    <input  type="submit" onclick="calculate_power_loss();" /><br><br>
    <center><h3>Power loss: <span id="myText"></span></h3></center>
</form>
<p>What does this mean? Well, I can assume that something between 300W and 600W is required to maintain a positive temperature differential. After some googling I found <a href="https://www.amazon.co.uk/gp/product/B07BK1VQTP/ref=ppx_yo_dt_b_asin_title_o02_s00?ie=UTF8&amp;psc=1">these</a>. At the time the site said they were 300W and operated on 24V with a built in fan. If you click on the link now it says 250W&hellip; They cost £25 on amazon and I bought two to be delivered the next day to my parents house. DO NOT BUY FROM AMAZON. You can find these on aliexpress in the £7 range.</p>
<p>I have never measured the power consumption of these devices but I can assume they are in the 250-300W area.
Here they are mounted on the wall.</p>
<!-- <p align="center"> 
<img src="/greenhouse/images/greenhouse/heater.png" alt="drawing" width="300"/>
</p> -->
<p align="center"> 
<img src="/greenhouse/images/greenhouse/IMG_0161.jpeg" alt="drawing" width="500"/>
</p>
<h2 id="how-are-they-operated">How are they operated?</h2>
<p>To control the heaters a switching device is required. After looking for a cheap commercial option on the internet I came to the conclusion that a custom board was required for switching loads above 10A at 24V. Behold the four channel relay PCB. It features optically isolated inputs and 16A relays that operate off a 24V coil with an LED indicator. Version 2 did include current monitoring but the project became corrupted and so I ended up with version 1. Here is the <a href="https://www.te.com/commerce/DocumentDelivery/DDEController?Action=srchrtrv&amp;DocNm=RT1_bistable&amp;DocType=DS&amp;DocLang=English">datasheet</a> for the relay.</p>
<p align="center"> 
<img src="/greenhouse/images/greenhouse/relay_pcb.png" alt="drawing" width="400"/>
</p>
<p>The PCB can be seen in the lower right of the electronics canvas. I should also mention that each heater has its own breaker in case of failure.</p>
<p align="center"> 
<img src="/greenhouse/images/greenhouse/IMG_6125.jpeg" alt="drawing" width="400"/>
</p>
<h2 id="concluding-thoughts">Concluding Thoughts</h2>
<p>This works for now but I would like to add in high side current monitoring to the relay board for additional telemetry.</p>
<script>
function calculate_power_loss() {
    var k_glass = Number(document.getElementById("k_glass").value);
    var h_inside = Number(document.getElementById("h_inside").value);
    var h_outside = Number(document.getElementById("h_outside").value);

	var L = 28e-3 // thickness of window 
	var A = 15 //m2 area of window

    var R_cond = L / (k_glass * A)
	var R_conv_i = 1 / (h_inside * A)
	var R_conv_o = 1 / (h_outside * A)
	var R_total =  R_cond + R_conv_i + R_conv_o
	var T_inside = 5
	var T_outside = 0 
	var Q_dot = (T_inside - T_outside) / R_total



    document.getElementById("myText").innerHTML = Math.round(Q_dot).toFixed(2) + "W"

}
</script>





      </main>

    </div>
    
<script src="https://mybrainhertz.co.uk/js/feather.min.js"></script>
<script>
  feather.replace()
</script>   
    <script>
  function addCopyButtonToCode(){
    var allCodeBlocksElements = $( "div.highlight pre" );

    allCodeBlocksElements.each(function(ii) {

      var currentId = "codeblock" + (ii + 1);
      $(this).attr('id', currentId);

    feather.replace()
      var clipButton = '<button class="btn copybtn" data-clipboard-target="#' +
        currentId + '"><i data-feather="copy" width="20"></i></button>';
      $(this).after(clipButton);
    });

    var clipboard = new Clipboard('.btn');
    clipboard.on('success', function(e) {
      setTimeout(function() {
        
        e.clearSelection();
      }, 250);
    });
    clipboard.on('error', function(e) {
      $(e.trigger).text("Can't in Safari");
    });
  }
  $(document).ready(function () {
    
    addCopyButtonToCode();
  });



</script>   
  </body>
</html>