<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Hugo 0.89.4" />
  
  <link rel="stylesheet" href="https://mybrainhertz.co.uk/css/bootstrap.min.css">
  
  
  <title>FTDI4222 Project Setup for Windows</title>
  <style>
.container {
  max-width: 900px;
}
#nav a {
  font-weight: bold;
  color: inherit;

}
#nav-border {
  border-bottom: 1px solid #212529;
}
#main {
  margin-top: 1em;
  margin-bottom: 4em;
}
#home-jumbotron {
  background-color: inherit;
}
.font-125 {
  font-size: 125%;
}

 


.tag-btn {

  margin-bottom: 0.3em;
}
img {
  max-width: 100%;
}
.btn {
  margin-bottom: 0.3em;
  margin-right : 0.3em;

}

 


a {
  color: #007bff;
 }  





td, th {
    border: 1px solid grey;
    padding: 10px;
}

@media (min-width: 34em) {
    .card-columns {
        -webkit-column-count:3;
        -moz-column-count:3;
        column-count:3;
    }
}

pre {
    background: #f4f4f4;
    border: 1px solid #ddd;
    border-left: 3px solid #f36d33;
    color: #222222;
    page-break-inside: avoid;
    font-family: monospace;
    font-size: 13px;
    line-height: 1.6;
    margin-bottom: 1.6em;
    max-width: 100%;
    overflow: auto;
    padding: 1em 1.5em;
    display: block;
    word-wrap: break-word;
}

code {
   
  font-size: 14px;
   
}



.card-img-top{
   
   
   
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;

}
.card{
  border-radius: 10px;

}

 
button.copybtn {
  webkit-transition: opacity .3s ease-in-out;
  -o-transition: opacity .3s ease-in-out;
  transition: opacity .3s ease-in-out;
  opacity: .15;
  padding: 2px 6px;
  position: absolute;
  right: 4px;
  top: 4px;
}
 
    
 
div.highlight .copybtn:hover {
    opacity: 1;
    border-color: #51a7e8;
}
div.highlight .copybtn:after {
    opacity: 1;
}
div.highlight {
    position: relative;
}

.col{
  padding-left: 0px;
}






</style>
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>







  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-177014444-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
</head>  


  <body>
    
        <div id="nav-border" class="container">
  <nav id="nav" class="nav justify-content-center">
   
    
    
    <a class="nav-link" href="/"><i data-feather="home"></i> Home</a>
   
    
    
    <a class="nav-link" href="/electronics/"><i data-feather="cpu"></i> Electronics</a>
   
    
    
    <a class="nav-link" href="/food/"><i data-feather="heart"></i> Food</a>
   
    
    
    <a class="nav-link" href="/photography/"><i data-feather="aperture"></i> Photography</a>
   
    
    
    <a class="nav-link" href="/misc/"><i data-feather="coffee"></i> Misc</a>
   
    
    
    <a class="nav-link" href="/greenhouse/"><i data-feather="sun"></i> Greenhouse</a>
   
    
    
    <a class="nav-link" href="/tags/"><i data-feather="tag"></i> Tags</a>
  


  </nav>
</div>

 
        
    <div class="container">
      <main id="main">
      
<h1>FTDI4222 Project Setup for Windows</h1>


<i data-feather="calendar"></i> <time datetime="2021-12-03">Dec 3, 2021</time>

<br><br>
<h2 id="setup">Setup</h2>
<p>Software required</p>
<ul>
<li>MinGW compiler - gcc.exe - Version 6.3.0-1</li>
<li>MinGW make system - mingw32-make</li>
<li>CMake - Version 3.22</li>
</ul>
<p>Download the relevent drivers for the IC</p>
<p>D2XX Drivers: <a href=https://ftdichip.com/wp-content/uploads/2021/08/CDM212364_Setup.zip target="_blank">FTD2XX</a></p>
<p>FT4222H Driver: <a href=https://www.ftdichip.com/Support/SoftwareExamples/LibFT4222-v1.4.4.zip target="_blank">FT4222H</a></p>
<p>This link may not work if the driver has been updated. If this is the case then the link can be found at <a href=https://ftdichip.com/products/ft4222h/ target="_blank">FTDI4222 Windows Library</a></p>
<p>Install the D2xx driver from the downloaded installer.</p>
<!-- This will place the ftd2xx.dll in the System32 folder. -->
<p><strong>FTDI4222 Library Folder</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">├── FT4222H_Lib_1.4.4_Release_info.rtf
├── imports
│   ├── LibFT4222
│   │   ├── dll
│   │   │   ├── LibFT4222.dll
│   │   │   ├── LibFT4222.lib
│   │   │   ├── amd64
│   │   │   │   ├── LibFT4222-64.dll
│   │   │   │   └── LibFT4222-64.lib
│   │   │   └── i386
│   │   │       ├── LibFT4222.dll
│   │   │       └── LibFT4222.lib
│   │   ├── inc
│   │   │   └── LibFT4222.h
│   │   └── lib
│   │       ├── amd64
│   │       │   ├── LibFT4222-64.lib
│   │       │   ├── libboost_atomic-vc100-mt-1_54.lib
│   │       │   ├── libboost_chrono-vc100-mt-1_54.lib
│   │       │   ├── libboost_date_time-vc100-mt-1_54.lib
│   │       │   ├── libboost_exception-vc100-mt-1_54.lib
│   │       │   ├── libboost_system-vc100-mt-1_54.lib
│   │       │   └── libboost_thread-vc100-mt-1_54.lib
│   │       └── i386
│   │           ├── LibFT4222.lib
│   │           ├── libboost_atomic-vc100-mt-1_54.lib
│   │           ├── libboost_chrono-vc100-mt-1_54.lib
│   │           ├── libboost_date_time-vc100-mt-1_54.lib
│   │           ├── libboost_exception-vc100-mt-1_54.lib
│   │           ├── libboost_system-vc100-mt-1_54.lib
│   │           └── libboost_thread-vc100-mt-1_54.lib
│   └── ftd2xx
│       ├── amd64
│       │   └── ftd2xx.lib
│       ├── ftd2xx.h
│       └── i386
│           └── ftd2xx.lib
</code></pre></div><h2 id="file-structure">File Structure</h2>
<p>We are interested in the i386 versions of the libraries. Create folder with the file structure like below and place the .lib and .dll files in the correct folders. note the makedfile is generated by CMake.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">├── build
│   ├── program.exe <span style="color:#666">(</span>generated from Makefile<span style="color:#666">)</span>
│   ├── LibFT4222.dll
│   └── Makefile <span style="color:#666">(</span>generated by CMake<span style="color:#666">)</span>
├── lib
│   ├── LibFT4222.lib
│   └── ftd2xx.lib
│   └── LibFT4222.dll
└── src
    ├── CMakeLists.txt
    ├── program.c
    ├── program.h
    ├── WinTypes.h
    ├── ftd2xx.h
    └── libft4222.h
</code></pre></div><h2 id="cmake">CMake</h2>
<p>To use CMake a CMakeLists.txt file is required.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmake" data-lang="cmake"><span style="color:#007020">cmake_minimum_required</span>(<span style="color:#4070a0">VERSION</span> <span style="color:#4070a0">3.20.0</span>)<span style="">
</span><span style="">
</span><span style=""></span><span style="color:#007020">project</span> (<span style="color:#4070a0">&lt;project_name&gt;</span>)<span style="">
</span><span style="">
</span><span style=""></span><span style="color:#007020">set</span> (<span style="color:#4070a0">PROJECT_LINK_LIBS</span> <span style="color:#4070a0">ftd2xx</span> <span style="color:#4070a0">FT4222</span>)<span style="">
</span><span style=""></span><span style="color:#007020">link_directories</span> (<span style="color:#4070a0">&lt;path_to_lib_directory&gt;</span>) <span style="">
</span><span style="">
</span><span style=""></span><span style="color:#007020">include_directories</span> (
     <span style="color:#4070a0">&#34;C:/MinGW/include&#34;</span>
     <span style="color:#4070a0">&lt;path_to_src_directory&gt;</span> 
     )<span style="">
</span><span style="">
</span><span style=""></span><span style="color:#007020">add_executable</span>(<span style="color:#4070a0">&lt;program_name&gt;</span> <span style="color:#4070a0">program.c</span>) <span style="">
</span><span style=""></span><span style="color:#007020">target_link_libraries</span>(<span style="color:#4070a0">&lt;program_name&gt;</span> <span style="color:#666">${</span><span style="color:#bb60d5">PROJECT_LINK_LIBS</span><span style="color:#666">}</span> )<span style="">
</span></code></pre></div><p>From the root of the folder call</p>
<pre tabindex="0"><code>cmake -S ./src -B ./build
</code></pre><p>This will have made a makefile in the build folder. To run the make file call ming32-make in the build folder.</p>
<pre tabindex="0"><code>cd build
mingw32-make
</code></pre>




      </main>

    </div>
    
<script src="https://mybrainhertz.co.uk/js/feather.min.js"></script>
<script>
  feather.replace()
</script>   
    <script>
  function addCopyButtonToCode(){
    var allCodeBlocksElements = $( "div.highlight pre" );

    allCodeBlocksElements.each(function(ii) {

      var currentId = "codeblock" + (ii + 1);
      $(this).attr('id', currentId);

    feather.replace()
      var clipButton = '<button class="btn copybtn" data-clipboard-target="#' +
        currentId + '"><i data-feather="copy" width="20"></i></button>';
      $(this).after(clipButton);
    });

    var clipboard = new Clipboard('.btn');
    clipboard.on('success', function(e) {
      setTimeout(function() {
        
        e.clearSelection();
      }, 250);
    });
    clipboard.on('error', function(e) {
      $(e.trigger).text("Can't in Safari");
    });
  }
  $(document).ready(function () {
    
    addCopyButtonToCode();
  });



</script>   
  </body>
</html>